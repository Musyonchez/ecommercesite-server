// productSchema.prisma
generator storeClient {
  provider = "prisma-client-js"
  output   = "./generated/productClient"
  binaryTargets = ["native", "debian-openssl-1.1.x", "rhel-openssl-1.0.x"]
}

datasource productDb {
  provider = "mongodb"
  url      = env("MONGODB_URL")
}

model Product {
  id           String    @id @default(auto()) @map("_id") @productDb.ObjectId
  name         String
  description  String?
  price        Float?
  stock        Int?      // Represents the quantity in stock
  category     String?   // Represents the product category
  manufacturer String?   // Represents the manufacturer of the product
  imageUrl     String?   // Represents the URL of the product image
  isActive     Boolean   @default(true)  // Indicates whether the product is active
  orderId      String?   // New field: Represents the Order ID associated with the product
  order        Order?    @relation(fields: [orderId], references: [id])
}

model Order {
  id           String    @id @default(auto()) @map("_id") @productDb.ObjectId
  products     Product[]
  totalAmount  Float
  createdAt    DateTime   @default(now())
  status       String
}
